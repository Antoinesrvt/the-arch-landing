class d{config;currentLang;constructor(e){this.config=e,this.currentLang=e.currentLang}init(){this.setupLanguageSwitcher(),this.setupMobileLanguageSwitcher(),this.updateUI()}destroy(){const e=document.getElementById("lang-switch"),t=document.getElementById("mobile-lang-switch");e&&e.replaceWith(e.cloneNode(!0)),t&&t.replaceWith(t.cloneNode(!0))}refresh(){this.destroy(),this.init()}getCurrentLanguage(){return this.currentLang}switchLanguage(e){e!==this.currentLang&&(window.location.href=`/${e}`)}updateUI(){this.updateDesktopSwitcher(),this.updateMobileSwitcher()}setupLanguageSwitcher(){const e=document.getElementById("lang-switch"),t=document.getElementById("lang-dropdown");if(!e||!t)return;e.addEventListener("click",i=>{i.preventDefault(),t.classList.toggle("hidden")}),document.addEventListener("click",i=>{!e.contains(i.target)&&!t.contains(i.target)&&t.classList.add("hidden")}),t.querySelectorAll('a[href^="/"]').forEach(i=>{i.addEventListener("click",o=>{const s=i.getAttribute("href");if(s){const r=s.replace("/","");this.switchLanguage(r)}})})}setupMobileLanguageSwitcher(){const e=document.getElementById("mobile-lang-switch");e&&e.addEventListener("click",()=>{const t=this.currentLang==="fr"?"en":"fr";this.switchLanguage(t)})}updateDesktopSwitcher(){const e=document.getElementById("lang-switch");if(!e)return;const t=this.currentLang==="fr"?"EN":"FR",n=e.querySelector(".current-lang-code");n&&(n.textContent=t)}updateMobileSwitcher(){const e=document.getElementById("mobile-lang-switch");if(!e)return;const t=this.currentLang==="fr"?"EN":"FR";e.textContent=t}}class h{config={smoothScroll:!0,offset:-80,duration:1.2};init(){this.setupDesktopNavigation(),this.setupMobileNavigation(),this.setupAccessibility(),this.setupFloatingAnimations()}destroy(){document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(t=>{t.replaceWith(t.cloneNode(!0))})}refresh(){this.destroy(),this.init()}scrollToSection(e){const t=document.querySelector(e);t&&(this.config.smoothScroll?this.smoothScrollTo(t):t.scrollIntoView({behavior:"smooth",block:"start"}))}setupSmoothScrolling(){this.config.smoothScroll=!0}handleMobileMenu(){const e=document.getElementById("mobile-menu-toggle"),t=document.getElementById("mobile-menu"),n=document.getElementById("mobile-menu-close");!e||!t||!n||(e.addEventListener("click",()=>{this.openMobileMenu(t,e)}),n.addEventListener("click",()=>{this.closeMobileMenu(t,e)}),t.addEventListener("click",i=>{i.target===t&&this.closeMobileMenu(t,e)}),document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.contains("show")&&this.closeMobileMenu(t,e)}))}setupDesktopNavigation(){document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",n=>{const i=t.getAttribute("href");i&&i.startsWith("#")&&!i.includes("/")&&(n.preventDefault(),this.scrollToSection(i))})})}setupMobileNavigation(){this.handleMobileMenu();const e=document.querySelectorAll(".mobile-nav-link"),t=document.getElementById("mobile-menu"),n=document.getElementById("mobile-menu-toggle");!t||!n||e.forEach(i=>{i.addEventListener("click",o=>{const s=i.getAttribute("href");s&&s.startsWith("#")&&!s.includes("/")&&(o.preventDefault(),this.closeMobileMenu(t,n),setTimeout(()=>{this.scrollToSection(s)},350))})})}setupAccessibility(){const e=document.querySelector('a[href="#main-content"]');e&&e.addEventListener("click",t=>{t.preventDefault();const n=document.getElementById("main-content");n&&(n.focus(),this.scrollToSection("#main-content"))}),document.addEventListener("keydown",t=>{if(t.key==="Tab"&&document.activeElement===document.body){const n=document.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n&&n.focus()}})}setupFloatingAnimations(){document.querySelectorAll(".glass-card").forEach((t,n)=>{n<3&&t.classList.add("float-animation")})}openMobileMenu(e,t){e.classList.add("show"),t.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",requestAnimationFrame(()=>{e.style.transform="translateX(0)"})}closeMobileMenu(e,t){e.style.transform="translateX(-100%)",setTimeout(()=>{e.classList.remove("show"),t.setAttribute("aria-expanded","false"),document.body.style.overflow=""},300)}smoothScrollTo(e){window.lenis?window.lenis.scrollTo(e,{offset:this.config.offset,duration:this.config.duration,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t))}):e.scrollIntoView({behavior:"smooth",block:"start"})}}class u{config={floatingCards:!0,scrollAnimations:!0,reducedMotion:!1};init(){console.log("ðŸŽ¬ AnimationManager init() called"),this.detectReducedMotion(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{this.initializeAnimations()}):this.initializeAnimations()}destroy(){typeof window.ScrollTrigger<"u"&&window.ScrollTrigger.kill(),document.querySelectorAll(".float-animation, .animate-card, .animate-title").forEach(t=>{t.classList.remove("float-animation","animate-card","animate-title")})}refresh(){this.destroy(),this.init()}setupFloatingAnimations(){if(!this.config.floatingCards||this.config.reducedMotion)return;document.querySelectorAll(".glass-card").forEach((t,n)=>{n<3&&t.classList.add("float-animation")})}setupScrollAnimations(){!this.config.scrollAnimations||this.config.reducedMotion||this.waitForGSAP().then(()=>{this.initializeGSAPAnimations()}).catch(()=>{console.warn("GSAP failed to load, using fallback animations"),this.setupFallbackScrollAnimations()})}initializeAnimations(){setTimeout(()=>{this.setupFloatingAnimations(),this.setupScrollAnimations(),this.setupCursorEffects()},500)}waitForGSAP(){return new Promise((e,t)=>{let n=0;const i=50,o=()=>{typeof window.gsap<"u"&&typeof window.ScrollTrigger<"u"?(console.log("âœ… GSAP and ScrollTrigger loaded successfully!"),e()):n<i?(n++,setTimeout(o,100)):(console.error("âŒ GSAP failed to load within timeout"),t(new Error("GSAP failed to load within timeout")))};o()})}initializeGSAPAnimations(){console.log("ðŸŽ¬ Initializing GSAP animations...");const e=window.gsap,t=window.ScrollTrigger;e.registerPlugin(t),this.setupLenisSmoothScroll();const n=document.querySelectorAll("#hero-section .hero-content > *");n.length>0&&e.from(n,{opacity:0,y:50,duration:1,ease:"power2.out",stagger:.2,delay:.5}),document.querySelectorAll(".animate-title").forEach(i=>{e.from(i,{opacity:0,y:30,duration:.8,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 85%",toggleActions:"play none none reverse"}})}),this.animateSectionCards("#services .animate-card","#services"),this.animateSectionCards("#approach .animate-card","#approach"),this.animateSectionCards("#founders .animate-card","#founders"),this.animateSectionCards("#network .animate-card","#network"),this.animateSectionCards("#media .animate-card","#media"),this.animateSectionCards("#case-studies .animate-card","#case-studies"),this.animateSectionCards(".glass-card.animate-card","main"),document.querySelectorAll(".animate-fade-in").forEach(i=>{e.from(i,{opacity:0,duration:1,ease:"power1.inOut",scrollTrigger:{trigger:i,start:"top 80%",toggleActions:"play none none reverse"}})}),console.log("âœ… GSAP animations initialized")}animateSectionCards(e,t){const n=document.querySelectorAll(e);n.length>0&&window.gsap.from(n,{opacity:0,y:50,duration:.8,ease:"power2.out",stagger:.1,scrollTrigger:{trigger:t,start:"top 80%",toggleActions:"play none none reverse"}})}setupFallbackScrollAnimations(){const e=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fade-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".animate-title, .animate-card").forEach(n=>{e.observe(n)})}respectReducedMotion(){this.config.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.config.reducedMotion&&(this.config.floatingCards=!1,this.config.scrollAnimations=!1,document.querySelectorAll(".float-animation, .animate-card, .animate-title").forEach(t=>{t.classList.remove("float-animation","animate-card","animate-title")}))}setupCursorEffects(){if(this.config.reducedMotion)return;const e=document.querySelectorAll(".glass-card");if(console.log("ðŸŽ¯ Setting up cursor effects for",e.length,"cards"),e.length===0){console.warn("âš ï¸ No .glass-card elements found!");return}e.forEach((t,n)=>{t.addEventListener("mousemove",i=>{const o=i,s=t.getBoundingClientRect(),r=o.clientX-s.left,l=o.clientY-s.top;t.style.setProperty("--mouse-x",`${r}px`),t.style.setProperty("--mouse-y",`${l}px`)}),t.addEventListener("mouseleave",()=>{t.style.setProperty("--mouse-x","50%"),t.style.setProperty("--mouse-y","50%")})})}detectReducedMotion(){const e=window.matchMedia("(prefers-reduced-motion: reduce)");this.config.reducedMotion=e.matches,e.addEventListener("change",t=>{this.config.reducedMotion=t.matches,this.refresh()})}setupLenisSmoothScroll(){if(this.config.reducedMotion)return;const e=()=>{if(typeof window.lenis<"u"&&window.lenis){let t=function(i){n.raf(i),requestAnimationFrame(t)};console.log("ðŸŽ¬ Initializing Lenis smooth scroll...");const n=new window.lenis({duration:1.2,easing:i=>Math.min(1,1.001-Math.pow(2,-10*i)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2,infinite:!1});window.lenis=n,n.on("scroll",i=>{window.ScrollTrigger&&window.ScrollTrigger.update()}),requestAnimationFrame(t),console.log("âœ… Lenis smooth scroll initialized")}else setTimeout(e,100)};e()}}class m{scene=null;camera=null;renderer=null;archGroup=null;particlesMesh=null;clock=null;mouseX=0;mouseY=0;animationId=null;init(){if(typeof THREE>"u"){setTimeout(()=>this.init(),100);return}this.clock=new THREE.Clock;const t=window.innerWidth<1024?document.getElementById("hero-canvas-mobile"):document.getElementById("hero-canvas-container");if(!t){setTimeout(()=>this.init(),100);return}if(this.shouldUseSimplifiedScene()){this.setupSimplifiedScene();return}try{this.setupScene(t),this.setupCamera(t),this.setupRenderer(t),this.setupLights(),this.createArchGroup(),this.createParticles(),this.setupEventListeners(),this.animate()}catch(i){console.warn("Three.js setup failed, using simplified scene:",i),this.setupSimplifiedScene()}}destroy(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.renderer&&this.renderer.dispose(),this.scene&&this.scene.clear()}refresh(){this.destroy(),this.init()}setPaused(e){e?this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null):this.animate()}setAutoRotate(e){}setControls(e){}resize(){if(this.camera&&this.renderer){const e=this.renderer.domElement.parentElement;if(e){const t=e.clientWidth,n=e.clientHeight;this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n)}}}dispose(){this.destroy()}shouldUseSimplifiedScene(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<2,n=!window.requestAnimationFrame||!window.IntersectionObserver,i=!this.checkWebGLSupport().supported,o=navigator.connection&&(navigator.connection.effectiveType==="slow-2g"||navigator.connection.effectiveType==="2g");return e||t||n||i||o}checkWebGLSupport(){try{const e=document.createElement("canvas");return e.getContext("webgl2")||e.getContext("webgl")||e.getContext("experimental-webgl")?{supported:!0,hasIssues:!1}:{supported:!1,hasIssues:!0}}catch{return{supported:!1,hasIssues:!0}}}setupScene(e){this.scene=new THREE.Scene}setupCamera(e){this.camera=new THREE.PerspectiveCamera(75,e.clientWidth/e.clientHeight,.1,1e3),this.camera.position.z=80,this.camera.position.y=10}setupRenderer(e){const n=window.innerWidth<1024?"hero-canvas-mobile-canvas":"hero-canvas";let i=document.getElementById(n);i||(i=document.createElement("canvas"),i.id=n,e.appendChild(i));const o={alpha:!0,antialias:!0,depth:!0,stencil:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1};try{this.renderer=new THREE.WebGLRenderer({canvas:i,...o}),this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setClearColor(0,0)}catch{this.renderer=new THREE.WebGLRenderer({canvas:i,alpha:!0,antialias:!1,powerPreference:"default"}),this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.setPixelRatio(1),this.renderer.setClearColor(0,0)}}setupLights(){if(!this.scene)return;const e=new THREE.AmbientLight(16777215,.5);this.scene.add(e);const t=new THREE.DirectionalLight(9072854,1.5);t.position.set(-10,20,30),this.scene.add(t);const n=new THREE.PointLight(3462041,2,200);n.position.set(50,-10,0),this.scene.add(n)}createArchGroup(){if(!this.scene)return;this.archGroup=new THREE.Group,this.scene.add(this.archGroup);const e=new THREE.MeshPhysicalMaterial({color:4988309,metalness:.3,roughness:.4,transmission:0,ior:1.5,emissive:1968688,emissiveIntensity:.5});[{radius:30,tube:1.5,z:0},{radius:24,tube:1.5,z:4},{radius:18,tube:1.5,z:8}].forEach(n=>{const i=new THREE.TorusGeometry(n.radius,n.tube,32,100,Math.PI),o=new THREE.Mesh(i,e);o.position.z=n.z,this.archGroup.add(o)}),this.archGroup.position.set(30,0,-20),this.archGroup.rotation.x=-Math.PI/2,this.archGroup.rotation.z=Math.PI}createParticles(){if(!this.scene)return;const e=new THREE.BufferGeometry,t=window.innerWidth<768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=t?2e3:5e3,i=new Float32Array(n*3);for(let s=0;s<n*3;s++)i[s*3+0]=(Math.random()-.5)*200,i[s*3+1]=(Math.random()-.5)*200,i[s*3+2]=(Math.random()-.5)*200;e.setAttribute("position",new THREE.BufferAttribute(i,3));const o=new THREE.PointsMaterial({size:t?.2:.1,color:9072854,transparent:!0,opacity:t?.3:.5,blending:THREE.AdditiveBlending});this.particlesMesh=new THREE.Points(e,o),this.scene.add(this.particlesMesh)}setupEventListeners(){document.addEventListener("mousemove",e=>{this.mouseX=e.clientX/window.innerWidth*2-1,this.mouseY=-(e.clientY/window.innerHeight)*2+1}),window.addEventListener("resize",()=>{const t=window.innerWidth<1024?document.getElementById("hero-canvas-mobile"):document.getElementById("hero-canvas-container");!t||!this.camera||!this.renderer||(this.camera.aspect=t.clientWidth/t.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.clientWidth,t.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)))})}animate(){if(!(!this.renderer||!this.scene||!this.camera)){this.animationId=requestAnimationFrame(()=>this.animate());try{const e=this.clock?.getElapsedTime()||0,t=window.innerWidth<768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(this.archGroup){const n=t?.1:.2,i=t?.15:.25;this.archGroup.rotation.x=-Math.PI/2+Math.sin(e*n)*i,this.archGroup.rotation.y=e*(t?.1:.15),this.archGroup.rotation.z=Math.PI+Math.cos(e*n)*i}if(this.camera&&this.archGroup){const n=t?2:5,i=t?.03:.05;this.camera.position.x+=(this.mouseX*n-this.camera.position.x)*i,this.camera.position.y+=(-this.mouseY*n-this.camera.position.y)*i,this.camera.lookAt(this.archGroup.position)}if(this.particlesMesh){const n=t?.015:.03;this.particlesMesh.rotation.y=-e*n}this.renderer.render(this.scene,this.camera)}catch(e){console.warn("Animation error, falling back to simplified scene:",e),this.setupSimplifiedScene()}}}setupSimplifiedScene(){const e=document.getElementById("hero-canvas-container");e&&(e.innerHTML=`
      <div style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0A0F19 0%, #111827 50%, #1E293B 100%);
        opacity: 0.8;
      "></div>
      <div style="
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 200px;
        height: 200px;
        background: radial-gradient(circle, rgba(138, 112, 214, 0.3) 0%, transparent 70%);
        border-radius: 50%;
        animation: pulse 4s ease-in-out infinite;
      "></div>
      <div style="
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100px;
        height: 100px;
        background: radial-gradient(circle, rgba(52, 211, 153, 0.2) 0%, transparent 70%);
        border-radius: 50%;
        animation: pulse 3s ease-in-out infinite reverse;
      "></div>
      <style>
        @keyframes pulse {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
          50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
        }
      </style>
    `)}}class f{modalOverlay=null;modalContent=null;closeModalBtn=null;caseStudiesData=null;keyboardTrapHandler=null;focusableElements=null;firstElement=null;lastElement=null;init(){this.modalOverlay=document.getElementById("case-study-modal-overlay"),this.modalContent=document.getElementById("modal-content"),this.closeModalBtn=document.getElementById("close-modal-btn"),this.caseStudiesData=window.CaseStudiesData,this.bindEvents(),this.setupAccessibility()}destroy(){this.closeModalBtn&&this.closeModalBtn.replaceWith(this.closeModalBtn.cloneNode(!0)),this.modalOverlay&&this.modalOverlay.replaceWith(this.modalOverlay.cloneNode(!0)),document.removeEventListener("click",this.handleCaseStudyClick),document.removeEventListener("keydown",this.handleKeydown),this.keyboardTrapHandler&&document.removeEventListener("keydown",this.keyboardTrapHandler)}refresh(){this.destroy(),this.init()}bindEvents(){this.closeModalBtn&&this.closeModalBtn.addEventListener("click",()=>this.closeModal()),this.modalOverlay&&this.modalOverlay.addEventListener("click",e=>{e.target===this.modalOverlay&&this.closeModal()}),document.addEventListener("click",this.handleCaseStudyClick),document.addEventListener("keydown",this.handleKeydown)}handleCaseStudyClick=e=>{const t=e.target;if(t.matches(".case-study-btn")){const n=t.dataset.caseStudy;n&&this.openCaseStudyModal(n)}};handleKeydown=e=>{e.key==="Escape"&&this.isOpen()&&this.closeModal()};setupAccessibility(){this.modalOverlay&&this.modalOverlay.setAttribute("aria-hidden","true")}openCaseStudyModal(e){const t=window.theArchApp?.language?.getCurrentLanguage()||"fr",i=(this.caseStudiesData?.[t]||this.caseStudiesData?.fr)?.[e];if(!i){console.warn(`Case study not found: ${e}`);return}const o=t==="fr"?"Le DÃ©fi":"The Challenge",s=t==="fr"?"La Solution The Arch":"The Arch Solution",r=t==="fr"?"Les RÃ©sultats":"The Results";this.modalContent&&(this.modalContent.innerHTML=`
        <h2 class="text-3xl font-bold text-white font-playfair">${i.title}</h2>
        <div>
          <h3 class="text-xl font-bold text-accent-purple mb-2">${o}</h3>
          <p class="text-secondary-text">${i.challenge}</p>
        </div>
        <div>
          <h3 class="text-xl font-bold text-accent-purple mb-2">${s}</h3>
          <p class="text-secondary-text">${i.solution}</p>
        </div>
        <div>
          <h3 class="text-xl font-bold text-accent-purple mb-4">${r}</h3>
          <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
            ${i.results.map(l=>`
              <div class="glass-card p-4 rounded-lg">
                <p class="text-3xl font-bold text-white">${l.value}</p>
                <p class="text-secondary-text text-sm">${l.label}</p>
              </div>
            `).join("")}
          </div>
        </div>
      `),this.showModal()}showModal(){this.modalOverlay&&(this.modalOverlay.classList.add("active"),this.modalOverlay.setAttribute("aria-hidden","false"),window.lenis&&window.lenis.stop(),this.trapFocus())}closeModal(){this.modalOverlay&&(this.modalOverlay.classList.remove("active"),this.modalOverlay.setAttribute("aria-hidden","true"),window.lenis&&window.lenis.start(),this.returnFocus())}isOpen(){return this.modalOverlay?.classList.contains("active")||!1}open(e){console.log(`Opening modal: ${e}`)}close(e){console.log(`Closing modal: ${e}`)}closeAll(){this.isOpen()&&this.closeModal()}isModalOpen(e){return this.isOpen()}trapFocus(){if(!this.modalOverlay)return;const e=this.modalOverlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=e[0],n=e[e.length-1];t&&t.focus(),this.focusableElements=e,this.firstElement=t,this.lastElement=n,this.keyboardTrapHandler=i=>{i.key==="Tab"&&(i.shiftKey?document.activeElement===this.firstElement&&(this.lastElement.focus(),i.preventDefault()):document.activeElement===this.lastElement&&(this.firstElement.focus(),i.preventDefault()))},document.addEventListener("keydown",this.keyboardTrapHandler)}returnFocus(){this.keyboardTrapHandler&&document.removeEventListener("keydown",this.keyboardTrapHandler);const e=document.querySelector(".case-study-btn:focus");e&&e.focus()}}class g{language;navigation;animation;threeScene;modal;config;constructor(e){this.config=e,this.language=new d(e.language),this.navigation=new h,this.animation=new u,this.threeScene=new m,this.modal=new f}init(){this.language.init(),this.navigation.init(),this.animation.init(),this.threeScene.init(),this.modal.init(),this.setupGlobalListeners(),window.theArchApp={language:this.language,navigation:this.navigation,animation:this.animation,threeScene:this.threeScene,modal:this.modal}}destroy(){this.language.destroy(),this.navigation.destroy(),this.animation.destroy(),this.threeScene.destroy(),this.modal.destroy(),delete window.theArchApp}refresh(){this.language.refresh(),this.navigation.refresh(),this.animation.refresh(),this.threeScene.refresh(),this.modal.refresh()}setupGlobalListeners(){document.addEventListener("visibilitychange",()=>{this.handleVisibilityChange()});let e;window.addEventListener("resize",()=>{clearTimeout(e),e=window.setTimeout(()=>{this.handleResize()},250)}),window.addEventListener("beforeunload",()=>{this.destroy()})}handleVisibilityChange(){document.hidden?(window.threeSceneManager&&window.threeSceneManager.setPaused(!0),this.threeScene&&"setPaused"in this.threeScene&&this.threeScene.setPaused(!0)):(window.threeSceneManager&&window.threeSceneManager.setPaused(!1),this.threeScene&&"setPaused"in this.threeScene&&this.threeScene.setPaused(!1))}handleResize(){this.animation.refresh(),window.animationManager&&window.animationManager.refresh()}}class c{cards=null;isInitialized=!1;init(){if(!this.isInitialized){if(this.cards=document.querySelectorAll(".glass-card"),this.cards.length===0){console.warn("No glass cards found");return}this.setupCursorTracking(),this.isInitialized=!0,console.log(`âœ¨ Card effects initialized for ${this.cards.length} cards`)}}setupCursorTracking(){this.cards?.forEach(e=>{e.addEventListener("mousemove",t=>{const n=t,i=e.getBoundingClientRect(),o=n.clientX-i.left,s=n.clientY-i.top,r=o/i.width*100,l=s/i.height*100;e.style.setProperty("--mouse-x",`${r}%`),e.style.setProperty("--mouse-y",`${l}%`)}),e.addEventListener("mouseleave",()=>{e.style.setProperty("--mouse-x","50%"),e.style.setProperty("--mouse-y","50%")})})}refresh(){this.isInitialized=!1,this.init()}destroy(){this.cards=null,this.isInitialized=!1}}if(typeof window<"u"){const a=new c;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>a.init()):a.init(),window.cardEffects=a}document.addEventListener("DOMContentLoaded",()=>{const a="${currentLang}";setTimeout(()=>{new g({language:{currentLang:a,availableLanguages:[{code:"fr",name:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"en",name:"English",flag:"ðŸ‡¬ðŸ‡§"}]},navigation:{smoothScroll:!0,offset:-80,duration:1.2},animations:{floatingCards:!0,scrollAnimations:!0,reducedMotion:!1}}).init(),new c().init(),p(),w()},1e3)});function p(){const a=document.getElementById("scroll-progress");if(!a)return;function e(){if(!a)return;const i=window.pageYOffset||document.documentElement.scrollTop,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=i/o*100;a.style.width=`${s}%`}let t=!1;function n(){t||(requestAnimationFrame(e),t=!0)}window.addEventListener("scroll",()=>{t=!1,n()}),e()}function w(){window.trackEvent=function(o,s,r,l){(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("ðŸ“Š Analytics Event:",{category:o,action:s,label:r,value:l})},window.trackEvent("page","view",window.location.pathname),document.querySelectorAll('a[href*="cal.com"], a[href*="tally.so"]').forEach(o=>{o.addEventListener("click",s=>{const r=s.currentTarget.href,l=s.currentTarget.textContent?.trim();window.trackEvent("cta","click",l||r)})}),document.querySelectorAll('a[target="_blank"]').forEach(o=>{o.addEventListener("click",s=>{const r=s.currentTarget.href;window.trackEvent("external_link","click",r)})});const t=[25,50,75,100],n=new Set;window.addEventListener("scroll",()=>{const o=(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;t.forEach(s=>{o>=s&&!n.has(s)&&(n.add(s),window.trackEvent("scroll","depth",`${s}%`,s))})});const i=Date.now();window.addEventListener("beforeunload",()=>{const o=Math.round((Date.now()-i)/1e3);window.trackEvent("engagement","time_on_page","",o)})}
